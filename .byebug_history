c
order_item
n
c
params
c
@order
c
self
c
params
c
@order
c
params
c
params
c
@order
c
@order
c
n
delivery
n
params
c
current_user.billing_address.assign_attributes(billing_params)
current_user.billing_address
current_user
c
self.discount.true
self.discount.true?
self.discount
self.total_price = order_items.sum(:price) - coupon.amount
self.total_price.to_f
self.total_price
c
self.total_price.to_f
order_items.sum(:price) - coupon.amount
order_items.sum(:price)
self.total_price.to_f
c
coupon
coupon.new_state
coupon.new_state = false
coupon
self.total_price.to_f
self.total_price
self.discount
self
coupon.new_state
coupon.amount
coupon
c
coupon
c
self
c
discount
order
@order
c
@order.credit_card
credit_card_params
credit_card
c
@order.credit_card.number
@order
c
@order.credit_card
@order
c
order_item
n
order_item
n
qty
n
book
exit
id
book
c
book.price
n
c
book
c
qty
id
order_items
order_otems
@order
c
cc.order
cc = CreditCard.last
CreditCard.last
 user.current_order.credit_card.id
user
user.current_order
c
user.current_order
exit
n
user.current_order.credit_card.id
c
Order.last
user.orders
user
c
n
params
c
params
c
n
c
@customer
n
current_user.id
current_user
@customer
exit
@books == @bestsellers
@books
exit
Book.bestsellers
exit
Book.bestsellers
exit
c
Book.bestsellers
Book.all
order3.order_items
Book.bestsellers
@bestsellers
order3
order2
order1
@order1
@books
c
@order
c
exit
c
@order
exit
@order
c
n
@rating
exit
@rating
params
@book
c
@order.credit_card
@order
c
@customer.current_order.credit_card.id
c
@credit_card
@customer.current_order.credit_card.id
@customer.current_order
@customer.credit_card
@order
c
n
exit
c
user.current_order.credit_card.id
exit
c
exit
user.current_order.credit_card.id
user.current_order
exit
c
user.current_order
user
c
exit
c
exit
c
@customer.current_order
c
@customer.current_order
@customer.orders
@customer
c
@customer.current_order.credit_card.id
@customer.current_order.credit_card
@customer.current_order
c
@customer.current_order
@customer
c
@order
c
n
c
@customer.current_order.credit_card
@customer.current_order
c
@customer.current_order
@customer
c
@order.credit_card
@order
c
Customer.accessible_by(current_ability)
c
Customer.accessible_by(current_ability)
Order.accessible_by(current_ability)
c
Order.accessible_by(current_ability)
Customer.accessible_by(current_ability)
c
Customer.accessible_by(current_ability)
c
Customer.accessible_by(current_ability)
c
@credit_card.to_key
@credit_card.number
@credit_card.id
@credit_card
c
@credit_card.class
@credit_card
c
@credit_card.itself
@credit_card.kind_of
@credit_card.kind
@credit_card.class
c
@credit_card.to_key
@credit_card
c
@credit_card.to_key
@credit_card
c
@credit_card.id
c
@credit_card
c
@order.credit_card
c
params
c
cc.eql?(order.credit_card)
cc.eql?()
order.credit_card
c
